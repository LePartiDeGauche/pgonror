<% if @parent_pages > 1 %>  <div class="pages">    <% if @parent_page > 1 %>      <%= link_to t('action.previous'),                   :parent_page => @parent_page-1,                   :parent => session[:parent] %>    <% end %>    <% for page in (1..@parent_pages) %>      <% if (page - @parent_page < 10) and (@parent_page - page < 10) %>        <% if page != @parent_page %>          <%= link_to page.to_s,                       :parent_page => page,                       :parent => session[:parent] %>        <% end %>        <%= page.to_s if page == @parent_page %>      <% end %>    <% end %>    <% if @parent_page < @parent_pages %>      <%= link_to t('action.next'),                   :parent_page => @parent_page+1,                   :parent => session[:parent] %>    <% end %>  </div><% end %>