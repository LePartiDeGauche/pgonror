<% if @source_pages > 1 %>  <div class="pages">    <% if @source_page > 1 %>      <%= link_to t('action.previous'),                   :source_page => @source_page-1,                   :parent => session[:parent] %>    <% end %>    <% for page in (1..@source_pages) %>      <% if (page - @source_page < 10) and (@source_page - page < 10) %>        <% if page != @source_page %>          <%= link_to page.to_s,                       :source_page => page,                       :parent => session[:parent] %>        <% end %>        <%= page.to_s if page == @source_page %>      <% end %>    <% end %>    <% if @source_page < @source_pages %>      <%= link_to t('action.next'),                   :source_page => @source_page+1,                   :parent => session[:parent] %>    <% end %>  </div><% end %>