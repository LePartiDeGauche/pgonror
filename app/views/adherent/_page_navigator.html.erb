<% if @pages > 1 %>  <div class="pages">    <% if @page > 1 %>      <%= link_to t('action.previous'),                  :action => :index,                   :page => @page-1,                   :category => session[:category],                   :search => session[:search] %>    <% end %>    <% for page in (1..@pages) %>      <% if (page - @page < 10) and (@page - page < 10) %>        <% if page != @page %>          <%= link_to page.to_s,                       :action => :index,                       :page => page,                       :category => session[:category],                       :search => session[:search] %>        <% end %>        <%= page.to_s if page == @page %>      <% end %>    <% end %>    <% if @page < @pages %>      <%= link_to t('action.next'),                   :action => :index,                   :page => @page+1,                   :category => session[:category],                   :status => session[:status],                   :parent => session[:parent],                  :search => session[:search] %>    <% end %>  </div><% end %>